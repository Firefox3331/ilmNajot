{"ast":null,"code":"import{useDispatch}from'react-redux';import{apiCall}from'../utils/apiCall';import React,{useState,useEffect}from'react';import{saveLostItems}from'../store/slice/lostItemReducer';import{useNavigate}from'react-router-dom';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SaveLostItems(){const[types,setTypes]=useState([]);const[subTypes,setSubTypes]=useState([]);const[regions,setRegions]=useState([]);const[districts,setDistricts]=useState([]);const dispatch=useDispatch();const navigate=useNavigate();useEffect(()=>{getTypes();getRegions();},[]);function getTypes(){apiCall('/api/type','get',null,{}).then(res=>{setTypes(res.data);});}function getSubTypes(typeId){if(typeId){apiCall('/api/type/subtype/'+typeId,'get',null,{}).then(res=>{setSubTypes(res.data);});}}function getRegions(){apiCall('/api/type/region','get',null,{}).then(res=>{setRegions(res.data);});}function getDistrict(regionId){if(regionId){apiCall('/api/type/district/'+regionId,'get',null,{}).then(res=>{setDistricts(res.data);});}}function changeType(e){getSubTypes(e.target.value);}function changeRegion(e){getDistrict(e.target.value);}function submit(e){e.preventDefault();let data={typeId:e.target[1].value,subTypeId:e.target[2].value,regionId:e.target[3].value,districtId:e.target[4].value,organization:e.target[5].value,status:e.target[0].value,description:e.target[6].value};apiCall(\"/api/lost\",'post',data).then(res=>{console.log(res.data);}).catch(err=>{navigate('/login');});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card save\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,action:\"\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-center\",children:\"Ariza yuborish\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control px-2 my-2\",name:\"\",id:\"\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Holatni tanlang\"}),/*#__PURE__*/_jsx(\"option\",{value:\"YOQOTIB_QOYILGAN\",children:\"YOQOTIB_QOYILGAN\"}),/*#__PURE__*/_jsx(\"option\",{value:\"TOPIB_OLINGAN\",children:\"TOPIB_OLINGAN\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control px-2 my-2\",onChange:e=>changeType(e),name:\"\",id:\"\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Ashyo turini tanlang\"}),types.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type.id,children:type.name},type.id))]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control px-2 my-2\",name:\"\",id:\"\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Ashyo sub turini tanlang\"}),subTypes===null||subTypes===void 0?void 0:subTypes.map(subtype=>/*#__PURE__*/_jsx(\"option\",{value:subtype.id,children:subtype.name},subtype.id))]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control px-2 my-2\",onChange:e=>changeRegion(e),name:\"\",id:\"\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Hududni tanlang\"}),regions.map(region=>/*#__PURE__*/_jsx(\"option\",{value:region.id,children:region.name},region.id))]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control px-2 my-2\",name:\"\",id:\"\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Tumanni tanlang\"}),districts===null||districts===void 0?void 0:districts.map(district=>/*#__PURE__*/_jsx(\"option\",{value:district.id,children:district.name},district.id))]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control px-2 my-2\",type:\"text\",placeholder:\"Mas'ul tashkilot nomini kiriting\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control px-2 my-2\",type:\"text\",placeholder:\"Qisqacha ma'lumot\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"submit btn btn-warning\",children:\"submit\"})})]})})})})});}export default SaveLostItems;","map":{"version":3,"names":["useDispatch","apiCall","React","useState","useEffect","saveLostItems","useNavigate","jsx","_jsx","jsxs","_jsxs","SaveLostItems","types","setTypes","subTypes","setSubTypes","regions","setRegions","districts","setDistricts","dispatch","navigate","getTypes","getRegions","then","res","data","getSubTypes","typeId","getDistrict","regionId","changeType","e","target","value","changeRegion","submit","preventDefault","subTypeId","districtId","organization","status","description","console","log","catch","err","children","className","onSubmit","action","name","id","onChange","map","type","subtype","region","district","placeholder"],"sources":["D:/crud/src/pages/SaveLostItems.js"],"sourcesContent":["import { useDispatch } from 'react-redux';\r\nimport { apiCall } from '../utils/apiCall';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { saveLostItems } from '../store/slice/lostItemReducer';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './index.css';\r\n\r\nfunction SaveLostItems() {\r\n    const [types, setTypes] = useState([]);\r\n    const [subTypes, setSubTypes] = useState([]);\r\n    const [regions, setRegions] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        getTypes();\r\n        getRegions();\r\n    }, [])\r\n\r\n    function getTypes() {\r\n        apiCall('/api/type', 'get', null, {}).then(res => {\r\n            setTypes(res.data)\r\n        })\r\n    }\r\n    function getSubTypes(typeId) {\r\n        if (typeId) {\r\n            apiCall('/api/type/subtype/' + typeId, 'get', null, {}).then(res => {\r\n                setSubTypes(res.data)\r\n            })\r\n        }\r\n    }\r\n\r\n    function getRegions() {\r\n        apiCall('/api/type/region', 'get', null, {}).then(res => {\r\n            setRegions(res.data)\r\n        })\r\n    }\r\n\r\n    function getDistrict(regionId) {\r\n        if (regionId) {\r\n            apiCall('/api/type/district/' + regionId, 'get', null, {}).then(res => {\r\n                setDistricts(res.data)\r\n            })\r\n        }\r\n    }\r\n\r\n    function changeType(e) {\r\n        getSubTypes(e.target.value);\r\n    }\r\n\r\n    function changeRegion(e) {\r\n        getDistrict(e.target.value)\r\n    }\r\n\r\n    function submit(e){\r\n        e.preventDefault();\r\n        let data = {typeId: e.target[1].value, subTypeId: e.target[2].value, regionId: e.target[3].value, districtId: e.target[4].value, organization: e.target[5].value, status: e.target[0].value, description: e.target[6].value}\r\n        apiCall(\"/api/lost\", 'post', data).then(res=>{\r\n            console.log(res.data);\r\n        }).catch(err=>{\r\n            navigate('/login')\r\n        })\r\n    }   \r\n\r\n    return (\r\n        <div>\r\n            <div className='row'>\r\n                <div className=\"col-12\">\r\n                    <div className=\"card save\">\r\n                        <form onSubmit={submit} action=\"\">\r\n                            <div className=\"card-header\">\r\n                                <h4 className='text-center'>Ariza yuborish</h4>\r\n                            </div>\r\n                            <div className=\"card-body\">\r\n                                <div>\r\n                                    <select className=\"form-control px-2 my-2\" name=\"\" id=\"\">\r\n                                        <option value=\"\">Holatni tanlang</option>\r\n                                        <option value=\"YOQOTIB_QOYILGAN\">YOQOTIB_QOYILGAN</option>\r\n                                        <option value=\"TOPIB_OLINGAN\">TOPIB_OLINGAN</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div>\r\n                                    <select className=\"form-control px-2 my-2\" onChange={(e) => changeType(e)} name=\"\" id=\"\">\r\n                                        <option value=\"\">Ashyo turini tanlang</option>\r\n                                        {\r\n                                            types.map(type => <option key={type.id} value={type.id}>{type.name}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div>\r\n                                    <select className=\"form-control px-2 my-2\" name=\"\" id=\"\">\r\n                                        <option value=\"\">Ashyo sub turini tanlang</option>\r\n                                        {\r\n                                            subTypes?.map(subtype => <option key={subtype.id} value={subtype.id}>{subtype.name}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div>\r\n                                    <select className=\"form-control px-2 my-2\" onChange={(e) => changeRegion(e)} name=\"\" id=\"\">\r\n                                        <option value=\"\">Hududni tanlang</option>\r\n                                        {\r\n                                            regions.map(region => <option key={region.id} value={region.id}>{region.name}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div>\r\n                                    <select className=\"form-control px-2 my-2\" name=\"\" id=\"\">\r\n                                        <option value=\"\">Tumanni tanlang</option>\r\n                                        {\r\n                                            districts?.map(district => <option key={district.id} value={district.id}>{district.name}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div>\r\n                                    <input className=\"form-control px-2 my-2\" type=\"text\" placeholder=\"Mas'ul tashkilot nomini kiriting\" />\r\n                                </div>\r\n                                <div>\r\n                                    <input className=\"form-control px-2 my-2\" type=\"text\" placeholder=\"Qisqacha ma'lumot\" />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"card-footer\">\r\n                                <button className='submit btn btn-warning'>submit</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SaveLostItems;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}