{"ast":null,"code":"var _jsxFileName = \"D:\\\\crud\\\\src\\\\components\\\\SendMessages.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { apiCall } from '../utils/apiCall';\nimport Rodal from \"rodal\";\nimport 'rodal/lib/rodal.css';\nimport { useSubscription } from \"react-stomp-hooks\";\nimport { Link, Outlet, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SendMessages() {\n  _s();\n  const [myMessages, setMyMessages] = useState([]);\n  const [message, setMessage] = useState({});\n  useEffect(() => {\n    getAllMyMessages();\n  }, []);\n  function getAllMyMessages() {\n    apiCall('/message/' + localStorage.getItem(\"userId\"), 'get').then(res => {\n      console.log(res.data);\n      setMyMessages(res.data);\n    });\n  }\n  function getMessage(id, index) {\n    setMessage({\n      ...myMessages[index]\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: message.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: message.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: message.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"fullName\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"updated At\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: myMessages.map((message, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          onClick: () => getMessage(message.id, index),\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: message.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: message.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: message.firstName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: message.updatedAt.slice(0, 10)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 59\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 19\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n}\n_s(SendMessages, \"ihyjVfqzBxXofd3VqOjHLe/x3ds=\");\n_c = SendMessages;\nexport default SendMessages;\nvar _c;\n$RefreshReg$(_c, \"SendMessages\");","map":{"version":3,"names":["React","useEffect","useState","apiCall","Rodal","useSubscription","Link","Outlet","useNavigate","jsxDEV","_jsxDEV","SendMessages","_s","myMessages","setMyMessages","message","setMessage","getAllMyMessages","localStorage","getItem","then","res","console","log","data","getMessage","id","index","children","className","title","fileName","_jsxFileName","lineNumber","columnNumber","text","map","onClick","firstName","updatedAt","slice","_c","$RefreshReg$"],"sources":["D:/crud/src/components/SendMessages.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { apiCall } from '../utils/apiCall';\r\nimport Rodal from \"rodal\";\r\nimport 'rodal/lib/rodal.css'\r\nimport { useSubscription } from \"react-stomp-hooks\";\r\nimport { Link, Outlet, useNavigate } from \"react-router-dom\";\r\n\r\nfunction SendMessages(){\r\n\r\n    const [myMessages, setMyMessages] = useState([]);\r\n    const [message,setMessage] = useState({});\r\n    \r\n    useEffect(()=>{\r\n        getAllMyMessages();\r\n    }, [])\r\n\r\n    function getAllMyMessages(){\r\n        apiCall('/message/'+localStorage.getItem(\"userId\"), 'get').then(res=>{\r\n            console.log(res.data);\r\n            setMyMessages(res.data)\r\n        })\r\n    }\r\n\r\n    function getMessage(id, index){\r\n        setMessage({...myMessages[index]})\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                message.id ? \r\n                <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                        <h6>{message.title}</h6>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <p>{message.text}</p>\r\n                    </div>\r\n                </div>\r\n                : <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>title</th>\r\n                        <th>text</th>\r\n                        <th>fullName</th>\r\n                        <th>updated At</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        myMessages.map((message, index)=> <tr onClick={()=>getMessage(message.id, index)}>\r\n                            <td>{message.title}</td>\r\n                            <td>{message.text}</td>\r\n                            <td>{message.firstName}</td>\r\n                            <td>{message.updatedAt.slice(0, 10)}</td>\r\n                        </tr>)\r\n                    }\r\n                </tbody>\r\n            </table>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SendMessages;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}