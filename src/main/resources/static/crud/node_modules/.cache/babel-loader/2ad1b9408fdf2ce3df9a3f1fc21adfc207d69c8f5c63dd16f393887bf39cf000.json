{"ast":null,"code":"import axios from \"axios\";\nexport function apiCall(url, method, data, headers = {\n  \"Authorization\": localStorage.getItem('access_token')\n}) {\n  return axios({\n    baseURL: \"http://localhost:8080\",\n    url,\n    method,\n    data,\n    headers\n  });\n}\nexport function getAccessToken() {\n  setInterval(() => {\n    apiCall(\"/auth/refresh\", 'get', null, {\n      refresh_token: localStorage.getItem(\"refresh_token\")\n    }).then(({\n      data\n    }) => {\n      localStorage.setItem(\"access_token\", data);\n    });\n  }, 1000 * 60 - 1000);\n}\nexport function getTest() {\n  setInterval(() => {\n    apiCall(\"/user/test\", 'get').then(res => {\n      console.log(res.data);\n    });\n  }, 1000 * 60 + 5000);\n}","map":{"version":3,"names":["axios","apiCall","url","method","data","headers","localStorage","getItem","baseURL","getAccessToken","setInterval","refresh_token","then","setItem","getTest","res","console","log"],"sources":["D:/crud/src/utils/apiCall.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n\r\nexport function apiCall(url, method, data, headers = {\"Authorization\": localStorage.getItem('access_token')}){\r\n    return axios({\r\n        baseURL: \"http://localhost:8080\",\r\n        url,\r\n        method,\r\n        data,\r\n        headers\r\n    })\r\n}\r\n\r\nexport function getAccessToken(){\r\n    setInterval(() => {\r\n        apiCall(\"/auth/refresh\", 'get', null, {refresh_token: localStorage.getItem(\"refresh_token\")}).then(({data})=>{\r\n            localStorage.setItem(\"access_token\", data)\r\n        })\r\n    }, (1000 * 60) - 1000);\r\n}\r\n\r\nexport function getTest(){\r\n    setInterval(() => {\r\n        apiCall(\"/user/test\", 'get').then(res=>{\r\n            console.log(res.data);\r\n        })\r\n    }, (1000 * 60)+5000);\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,OAAO,SAASC,OAAOA,CAACC,GAAG,EAAEC,MAAM,EAAEC,IAAI,EAAEC,OAAO,GAAG;EAAC,eAAe,EAAEC,YAAY,CAACC,OAAO,CAAC,cAAc;AAAC,CAAC,EAAC;EACzG,OAAOP,KAAK,CAAC;IACTQ,OAAO,EAAE,uBAAuB;IAChCN,GAAG;IACHC,MAAM;IACNC,IAAI;IACJC;EACJ,CAAC,CAAC;AACN;AAEA,OAAO,SAASI,cAAcA,CAAA,EAAE;EAC5BC,WAAW,CAAC,MAAM;IACdT,OAAO,CAAC,eAAe,EAAE,KAAK,EAAE,IAAI,EAAE;MAACU,aAAa,EAAEL,YAAY,CAACC,OAAO,CAAC,eAAe;IAAC,CAAC,CAAC,CAACK,IAAI,CAAC,CAAC;MAACR;IAAI,CAAC,KAAG;MACzGE,YAAY,CAACO,OAAO,CAAC,cAAc,EAAET,IAAI,CAAC;IAC9C,CAAC,CAAC;EACN,CAAC,EAAG,IAAI,GAAG,EAAE,GAAI,IAAI,CAAC;AAC1B;AAEA,OAAO,SAASU,OAAOA,CAAA,EAAE;EACrBJ,WAAW,CAAC,MAAM;IACdT,OAAO,CAAC,YAAY,EAAE,KAAK,CAAC,CAACW,IAAI,CAACG,GAAG,IAAE;MACnCC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACX,IAAI,CAAC;IACzB,CAAC,CAAC;EACN,CAAC,EAAG,IAAI,GAAG,EAAE,GAAE,IAAI,CAAC;AACxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}